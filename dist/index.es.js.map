{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["import { BLOCKS, helpers, INLINES, MARKS } from '@contentful/rich-text-types';\nimport React from 'react';\n\nconst defaultNodeRenderers = {\n  [BLOCKS.PARAGRAPH]: (node, children, defaultKey) => (\n    <p key={defaultKey}>{children}</p>\n  ),\n  [BLOCKS.HEADING_1]: (node, children, defaultKey) => (\n    <h1 key={defaultKey}>{children}</h1>\n  ),\n  [BLOCKS.HEADING_2]: (node, children, defaultKey) => (\n    <h2 key={defaultKey}>{children}</h2>\n  ),\n  [BLOCKS.HEADING_3]: (node, children, defaultKey) => (\n    <h3 key={defaultKey}>{children}</h3>\n  ),\n  [BLOCKS.HEADING_4]: (node, children, defaultKey) => (\n    <h4 key={defaultKey}>{children}</h4>\n  ),\n  [BLOCKS.HEADING_5]: (node, children, defaultKey) => (\n    <h5 key={defaultKey}>{children}</h5>\n  ),\n  [BLOCKS.HEADING_6]: (node, children, defaultKey) => (\n    <h6 key={defaultKey}>{children}</h6>\n  ),\n  [BLOCKS.EMBEDDED_ENTRY]: (node, children, defaultKey) => (\n    <div key={defaultKey}>{children}</div>\n  ),\n  [BLOCKS.UL_LIST]: (node, children, defaultKey) => (\n    <ul key={defaultKey}>{children}</ul>\n  ),\n  [BLOCKS.OL_LIST]: (node, children, defaultKey) => (\n    <ol key={defaultKey}>{children}</ol>\n  ),\n  [BLOCKS.LIST_ITEM]: (node, children, defaultKey) => (\n    <li key={defaultKey}>{children}</li>\n  ),\n  [BLOCKS.QUOTE]: (node, children, defaultKey) => (\n    <blockquote key={defaultKey}>{children}</blockquote>\n  ),\n  [BLOCKS.HR]: (node, children, defaultKey) => <hr key={defaultKey}/>,\n  [INLINES.ASSET_HYPERLINK]: (node, children, defaultKey) =>\n    defaultInline(node, children, defaultKey),\n  [INLINES.ENTRY_HYPERLINK]: (node, children, defaultKey) =>\n    defaultInline(node, children, defaultKey),\n  [INLINES.EMBEDDED_ENTRY]: (node, children, defaultKey) =>\n    defaultInline(node, children, defaultKey),\n  [INLINES.HYPERLINK]: (node, children, defaultKey) => (\n    <a href={node.data.uri} key={defaultKey}>\n      {children}\n    </a>\n  ),\n};\n\nconst defaultMarkRenderers = {\n  [MARKS.BOLD]: text => <b>{text}</b>,\n  [MARKS.ITALIC]: text => <i>{text}</i>,\n  [MARKS.UNDERLINE]: text => <u>{text}</u>,\n  [MARKS.CODE]: text => <code>{text}</code>,\n};\n\nconst defaultInline = (node, children, defaultKey) => (\n  <span key={node.data.target.sys.id}>\n\t\ttype: {node.nodeType} id: {node.data.target.sys.id}\n\t</span>\n);\n\n/**\n * Serialize a Contentful Rich Text `document` to React tree\n */\nexport function documentToReactTree(richTextDocument, options = {}) {\n  const renderNode = {\n    ...defaultNodeRenderers,\n    ...options.renderNode,\n  };\n  const renderMark = {\n    ...defaultMarkRenderers,\n    ...options.renderMark,\n  };\n\n  function convert(nodes) {\n    return nodes.map((node, index) => {\n      if (helpers.isText(node)) {\n        return node.marks.reduce((value, mark) => {\n          if (!renderMark[mark.type]) {\n            return value;\n          }\n          return renderMark[mark.type](value);\n        }, node.value);\n      } else {\n        if (!node.nodeType || !renderNode[node.nodeType]) {\n          return null;\n        }\n        return renderNode[node.nodeType](node, convert(node.content), index);\n      }\n    });\n  }\n\n  return convert(richTextDocument.content);\n}\n"],"names":["defaultNodeRenderers","BLOCKS","PARAGRAPH","node","children","defaultKey","HEADING_1","HEADING_2","HEADING_3","HEADING_4","HEADING_5","HEADING_6","EMBEDDED_ENTRY","UL_LIST","OL_LIST","LIST_ITEM","QUOTE","HR","INLINES","ASSET_HYPERLINK","defaultInline","ENTRY_HYPERLINK","HYPERLINK","data","uri","defaultMarkRenderers","MARKS","BOLD","ITALIC","UNDERLINE","CODE","target","sys","id","nodeType","documentToReactTree","richTextDocument","options","renderNode","renderMark","convert","nodes","map","index","helpers","isText","marks","reduce","value","mark","type","content"],"mappings":"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"}